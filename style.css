@import url('https://fonts.googleapis.com/css2?family=Outfit:wght@300;400;600;800&family=Poppins:wght@400;600;800&display=swap');

.online-dot {
    color: #4ade80;
    animation: pulse 2s infinite;
    display: inline-block;
}

@keyframes pulse {
    0% {
        opacity: 1;
        transform: scale(1);
    }

    50% {
        opacity: 0.5;
        transform: scale(0.8);
    }

    100% {
        opacity: 1;
        transform: scale(1);
    }
}

:root {
    --primary-bg: linear-gradient(135deg, #0f2027 0%, #203a43 50%, #2c5364 100%);
    /* "203a43" theme */
    --card-bg: rgba(255, 255, 255, 0.1);
    --card-hover: rgba(255, 255, 255, 0.25);
    --card-border: rgba(255, 255, 255, 0.2);
    --text-color: #ffffff;
    --accent-color: #f0c419;
    /* Gold */
    --header-bg: rgba(0, 0, 0, 0.4);
    --modal-bg: rgba(0, 0, 0, 0.9);
    --font-main: 'Poppins', sans-serif;
    --shadow: 0 8px 32px 0 rgba(0, 0, 0, 0.5);
}

* {
    box-sizing: border-box;
    margin: 0;
    padding: 0;
}

body {
    background: var(--primary-bg);
    color: var(--text-color);
    font-family: var(--font-main);
    display: flex;
    flex-direction: column;
    min-height: 100vh;
    /* Allow growth */
    height: auto;
    overflow-y: auto;
    /* Enable scrolling */
    padding: 1vh 1vw;
}

/* Add a subtle pattern overlay */
body::before {
    content: "";
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background-image: url("data:image/svg+xml,%3Csvg width='60' height='60' viewBox='0 0 60 60' xmlns='http://www.w3.org/2000/svg'%3E%3Cg fill='none' fill-rule='evenodd'%3E%3Cg fill='%23ffffff' fill-opacity='0.05'%3E%3Cpath d='M36 34v-4h-2v4h-4v2h4v4h2v-4h4v-2h-4zm0-30V0h-2v4h-4v2h4v4h2V6h4V4h-4zM6 34v-4H4v4H0v2h4v4h2v-4h4v-2H6zM6 4V0H4v4H0v2h4v4h2V6h4V4H6z'/%3E%3C/g%3E%3C/g%3E%3C/svg%3E");
    pointer-events: none;
    z-index: -1;
}

header {
    flex: 0 0 auto;
    width: 100%;
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: clamp(5px, 1vh, 10px) clamp(10px, 2vw, 30px);
    margin-bottom: 1vh;
    background: var(--header-bg);
    border-radius: 15px;
    backdrop-filter: blur(10px);
    height: auto;
    min-height: 8vh;
    border: 1px solid rgba(255, 255, 255, 0.1);
    position: relative;
}

h1 {
    color: var(--accent-color);
    text-shadow: 0 2px 10px rgba(240, 196, 25, 0.3);
    font-size: clamp(1.5rem, 4vh, 3rem);
    font-weight: 800;
    letter-spacing: 1px;
    text-align: center;
    position: absolute;
    left: 50%;
    transform: translateX(-50%);
    width: auto;
    white-space: nowrap;
    z-index: 10;
}

.timer {
    font-size: clamp(1.2rem, 3vh, 2.5rem);
    color: #ff4757;
    font-weight: 800;
    background: rgba(0, 0, 0, 0.6);
    padding: 5px 20px;
    border-radius: 50px;
    border: 2px solid #ff4757;
    box-shadow: 0 0 20px rgba(255, 71, 87, 0.2);
    min-width: clamp(80px, 15vw, 120px);
    text-align: center;
    /* Position timer absolutely */
    position: absolute;
    right: 20px;
}

.game-container {
    flex: 0 0 auto;
    /* Don't force grow */
    display: grid;
    grid-template-columns: repeat(6, 1fr);
    grid-template-rows: auto repeat(5, 1fr);
    gap: clamp(5px, 1vh, 15px);
    width: 100%;
    /* Remove fixed height: 100% or flex growth */
    height: auto;
    margin-bottom: 2vh;
}

.category-header {
    background: linear-gradient(to bottom, rgba(6, 12, 233, 0.7), rgba(0, 0, 150, 0.7));
    color: var(--text-color);
    padding: clamp(2px, 0.5vh, 5px);
    display: flex;
    align-items: center;
    justify-content: center;
    text-align: center;
    font-weight: 700;
    font-size: clamp(0.7rem, 1.8vh, 1.2rem);
    border-radius: 8px;
    border: 1px solid var(--card-border);
    backdrop-filter: blur(5px);
    box-shadow: var(--shadow);
    text-transform: uppercase;
    text-shadow: 1px 1px 2px rgba(0, 0, 0, 0.8);
    word-break: break-word;
    line-height: 1.2;
}

.card {
    background: var(--card-bg);
    color: var(--accent-color);
    display: flex;
    align-items: center;
    justify-content: center;
    /* Responsive Font Size:
       - Minimum: 1rem (for very small screens)
       - Preferred: 5% of the card's viewport width equivalent (or vh if landscape)
       - Maximum: 5rem
       Using clamp ensures it scales but has limits.
       Using a mix of vw and vh helps.
    */
    font-size: clamp(1.5rem, 4vw, 5vh);
    font-weight: 800;
    cursor: pointer;
    border: 1px solid var(--card-border);
    border-radius: 12px;
    backdrop-filter: blur(5px);
    box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
    transition: all 0.3s cubic-bezier(0.25, 0.8, 0.25, 1);
    position: relative;
    overflow: hidden;
}

.card::after {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background: linear-gradient(rgba(255, 255, 255, 0.1), transparent);
    opacity: 0;
    transition: opacity 0.3s;
}

.card:hover {
    background: var(--card-hover);
    transform: translateY(-5px) scale(1.02);
    box-shadow: 0 15px 30px rgba(0, 0, 0, 0.3);
    border-color: var(--accent-color);
}

.card:hover::after {
    opacity: 1;
}

.card.disabled {
    background: rgba(0, 0, 0, 0.3);
    color: transparent;
    cursor: default;
    pointer-events: none;
    box-shadow: none;
    border: 1px solid rgba(255, 255, 255, 0.05);
}

/* Modal Styles */
.modal {
    display: none;
    position: fixed;
    z-index: 2000;
    left: 0;
    top: 0;
    width: 100%;
    height: 100%;
    background-color: var(--modal-bg);
    justify-content: center;
    align-items: center;
    backdrop-filter: blur(15px);
    animation: fadeIn 0.3s ease;
    padding: 20px;
}

@keyframes fadeIn {
    from {
        opacity: 0;
    }

    to {
        opacity: 1;
    }
}

.modal-content {
    background: linear-gradient(145deg, rgba(30, 30, 40, 0.9), rgba(20, 20, 30, 0.95));
    padding: clamp(20px, 4vh, 40px);
    border: 1px solid rgba(255, 255, 255, 0.2);
    border-radius: 25px;
    text-align: center;
    width: clamp(300px, 90%, 900px);
    max-height: 90vh;
    /* Prevent overflow on small screens */
    overflow-y: auto;
    /* Allow scrolling if content is too tall */
    position: relative;
    box-shadow: 0 20px 60px rgba(0, 0, 0, 0.6);
}

.close-btn {
    position: absolute;
    top: 20px;
    right: 20px;
    width: clamp(40px, 6vh, 60px);
    height: clamp(40px, 6vh, 60px);
    background: rgba(255, 255, 255, 0.1);
    border: 2px solid rgba(255, 255, 255, 0.2);
    border-radius: 50%;
    color: #fff;
    font-size: clamp(1.5rem, 3vh, 2.5rem);
    cursor: pointer;
    transition: all 0.3s cubic-bezier(0.25, 0.8, 0.25, 1);
    display: flex;
    align-items: center;
    justify-content: center;
    z-index: 2001;
    backdrop-filter: blur(5px);
    box-shadow: 0 4px 15px rgba(0, 0, 0, 0.2);
    line-height: 1;
    padding: 0;
    /* Reset default button padding */
}

.close-btn:hover,
.close-btn:focus {
    background: rgba(255, 71, 87, 0.8);
    border-color: rgba(255, 71, 87, 1);
    transform: rotate(90deg) scale(1.1);
    outline: none;
    box-shadow: 0 8px 25px rgba(255, 71, 87, 0.5);
}

.question-text {
    font-size: clamp(1.5rem, 5vh, 4rem);
    margin-bottom: clamp(10px, 3vh, 30px);
    color: var(--text-color);
    min-height: 15vh;
    display: flex;
    align-items: center;
    justify-content: center;
    font-weight: 600;
    text-shadow: 0 2px 4px rgba(0, 0, 0, 0.5);
    line-height: 1.3;
}

.answer-text {
    font-size: clamp(1.2rem, 4vh, 3rem);
    color: var(--accent-color);
    margin-top: clamp(10px, 2vh, 20px);
    display: none;
    padding: clamp(10px, 2vh, 20px);
    border-top: 1px solid rgba(255, 255, 255, 0.1);
    animation: slideUp 0.5s ease;
    font-weight: 700;
    line-height: 1.3;
}

@keyframes slideUp {
    from {
        transform: translateY(20px);
        opacity: 0;
    }

    to {
        transform: translateY(0);
        opacity: 1;
    }
}


.modal-actions {
    display: flex;
    justify-content: center;
    gap: 20px;
    margin-top: 20px;
    flex-wrap: wrap;
    /* Allow wrapping on small screens */
}

.action-btn {
    background: var(--accent-color);
    color: #1a1a2e;
    border: none;
    padding: clamp(10px, 1.5vh, 15px) clamp(20px, 3vh, 30px);
    font-size: clamp(1rem, 2vh, 1.5rem);
    font-weight: 700;
    cursor: pointer;
    border-radius: 50px;
    transition: all 0.3s;
    box-shadow: 0 5px 15px rgba(240, 196, 25, 0.3);
    text-transform: uppercase;
    letter-spacing: 1px;
}

.action-btn:hover {
    transform: translateY(-3px);
    box-shadow: 0 8px 25px rgba(240, 196, 25, 0.5);
    background: #fff;
}

.action-btn.secondary {
    background: #2ecc71;
    /* Green for Listen */
    color: #fff;
    box-shadow: 0 5px 15px rgba(46, 204, 113, 0.3);
}

.action-btn.secondary:hover {
    box-shadow: 0 8px 25px rgba(46, 204, 113, 0.5);
    background: #27ae60;
}

/* Score Board */
.score-board {
    flex: 0 0 auto;
    display: flex;
    justify-content: space-around;
    width: 100%;
    background: rgba(0, 0, 0, 0.4);
    padding: 1vh;
    border-radius: 20px;
    backdrop-filter: blur(10px);
    height: auto;
    min-height: 14vh;
    border: 1px solid rgba(255, 255, 255, 0.1);
    flex-wrap: nowrap;
    /* Keep teams on one line if possible */
    overflow-x: auto;
    /* Scroll if too squeezed */
}

.team-score {
    text-align: center;
    background: linear-gradient(to bottom, rgba(255, 255, 255, 0.05), rgba(255, 255, 255, 0.02));
    padding: 5px 10px;
    border-radius: 15px;
    min-width: unset;
    /* Remove fixed min-width */
    flex: 1;
    /* Allow flexible growth */
    margin: 0 5px;
    display: flex;
    flex-direction: column;
    justify-content: center;
    border: 1px solid rgba(255, 255, 255, 0.05);
    transition: transform 0.2s;
}

.team-score:hover {
    background: rgba(255, 255, 255, 0.08);
}

.team-name {
    color: var(--accent-color);
    font-size: clamp(0.6rem, 2vh, 1.2rem);
    /* Scalable font */
    margin-bottom: 5px;
    font-weight: 700;
    text-transform: uppercase;
    white-space: nowrap;
    overflow: hidden;
    text-overflow: ellipsis;
}

.score-value {
    font-size: clamp(1.5rem, 4vh, 3rem);
    color: #fff;
    margin-bottom: 5px;
    font-weight: 800;
    text-shadow: 0 2px 5px rgba(0, 0, 0, 0.5);
}

.score-controls {
    display: flex;
    justify-content: center;
    gap: 5px;
}

.score-controls button {
    background: rgba(255, 255, 255, 0.15);
    color: #fff;
    border: none;
    width: clamp(25px, 3.5vh, 40px);
    height: clamp(25px, 3.5vh, 40px);
    font-size: clamp(1rem, 2vh, 1.5rem);
    cursor: pointer;
    margin: 0 2px;
    border-radius: 50%;
    transition: all 0.2s;
    display: inline-flex;
    align-items: center;
    justify-content: center;
}

.score-controls button:hover {
    background: #fff;
    transform: scale(1.1);
}

.score-controls button.add:hover {
    color: #2ecc71;
}

.score-controls button.subtract:hover {
    color: #ff4757;
}

@media (max-width: 1024px) {
    .game-container {
        grid-template-columns: repeat(3, 1fr);
        grid-template-rows: auto repeat(10, 1fr);
    }

    .category-header {
        font-size: 1.5vh;
    }

    .card {
        font-size: 3vh;
    }
}

.pronunciation-text {
    font-size: clamp(1rem, 2.5vh, 2rem);
    color: rgba(255, 255, 255, 0.7);
    font-style: italic;
    margin-top: 1vh;
    display: none;
    font-weight: 400;
    animation: fadeIn 0.5s ease;
}

.header-controls {
    position: static;
    display: flex;
    align-items: center;
    gap: clamp(5px, 1vw, 15px);
    flex: 1;
    justify-content: flex-end;
}

.timer {
    position: static;
    /* Reset absolute positioning */
    box-shadow: 0 0 10px rgba(255, 71, 87, 0.2);
    font-variant-numeric: tabular-nums;
    min-width: clamp(80px, 12vw, 140px);
    /* Increased slightly to accommodate width changes */
    display: inline-flex;
    justify-content: center;
    /* Ensure width is respected */
}

/* Common Header Left Container */
.header-left {
    flex: 1;
    display: flex;
    justify-content: flex-start;
    align-items: center;
}

.lang-btn {
    background: rgba(255, 255, 255, 0.1);
    color: #fff;
    border: 2px solid var(--accent-color);
    padding: clamp(3px, 0.5vh, 5px) clamp(8px, 1.5vw, 15px);
    font-size: clamp(0.8rem, 2vh, 1.2rem);
    font-weight: 800;
    border-radius: 10px;
    cursor: pointer;
    transition: all 0.3s;
    min-width: clamp(40px, 5vw, 60px);
}

.lang-btn:hover {
    background: var(--accent-color);
    color: #000;
}

/* Confetti */
#confetti-container {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    pointer-events: none;
    z-index: 9999;
    overflow: hidden;
}

.confetti {
    position: absolute;
    width: 10px;
    height: 10px;
    background-color: #f00;
    animation: fall linear forwards;
}

@keyframes fall {
    to {
        transform: translateY(100vh) rotate(720deg);
    }
}

header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: 10px 30px;
}

.header-left {
    flex: 1;
    display: flex;
    justify-content: flex-start;
}

.header-controls {
    flex: 1;
    display: flex;
    justify-content: flex-end;
    position: static;
    /* Reset absolute */
}

#game-title {
    flex: 2;
    text-align: center;
    margin: 0;
    display: none;
    /* Already removed from DOM, but just in case */
}

/* Landing Page Styles */
.landing-page {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background: url('school_bg.png') no-repeat center center/cover;
    display: flex;
    justify-content: center;
    align-items: center;
    z-index: 1000;
    overflow-y: auto;
    /* Allow scroll if needed on short screens */
}

.landing-page::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background: radial-gradient(circle at center, rgba(15, 32, 39, 0.2) 0%, rgba(15, 32, 39, 0.5) 100%);
    backdrop-filter: blur(2px);
    /* Reduced blur to see image better */
    transition: opacity 1s ease;
    pointer-events: none;
    /* Fix: prevent blocking clicks */
}

.landing-content {
    position: relative;
    text-align: center;
    color: white;
    z-index: 1001;
    padding: clamp(20px, 5vh, 60px) clamp(20px, 4vw, 40px);
    /* Darker glass effect to match app theme */
    background: rgba(15, 32, 39, 0.65);
    border-radius: 40px;
    border: 1px solid rgba(255, 255, 255, 0.1);
    box-shadow: 0 30px 60px rgba(0, 0, 0, 0.5), inset 0 0 0 1px rgba(255, 255, 255, 0.05);
    max-width: 650px;
    width: 90%;
    display: flex;
    flex-direction: column;
    align-items: center;
    backdrop-filter: blur(20px);
    /* Stronger glass effect */
    -webkit-backdrop-filter: blur(20px);
    animation: contentEntrance 1s cubic-bezier(0.2, 0.8, 0.2, 1);
    pointer-events: auto;
}

@keyframes contentEntrance {
    from {
        opacity: 0;
        transform: translateY(30px) scale(0.95);
    }

    to {
        opacity: 1;
        transform: translateY(0) scale(1);
    }
}

.school-name {
    font-size: clamp(1rem, 2.5vh, 1.8rem);
    font-weight: 500;
    margin-bottom: 20px;
    text-transform: uppercase;
    letter-spacing: 4px;
    color: rgba(255, 255, 255, 0.9);
    font-family: 'Outfit', sans-serif;
    line-height: 1.5;
    text-shadow: 0 2px 4px rgba(0, 0, 0, 0.3);
}

.game-title {
    font-size: clamp(2rem, 6vh, 4rem);
    font-weight: 800;
    margin-bottom: clamp(30px, 6vh, 60px);
    background: linear-gradient(135deg, #ffffff 0%, #e0eaff 100%);
    -webkit-background-clip: text;
    background-clip: text;
    -webkit-text-fill-color: transparent;
    filter: drop-shadow(0 0 20px rgba(255, 255, 255, 0.4));
    font-family: 'Outfit', sans-serif;
    letter-spacing: -2px;
    line-height: 1.1;
    position: relative;
    display: block;
    /* Ensure it is visible on landing page */
}

/* Add a subtle underline decoration */
.game-title::after {
    content: '';
    position: absolute;
    bottom: -15px;
    left: 50%;
    transform: translateX(-50%);
    width: 80px;
    height: 4px;
    background: var(--accent-color);
    border-radius: 2px;
    box-shadow: 0 0 15px var(--accent-color);
}

.mode-buttons {
    display: flex;
    flex-direction: column;
    gap: 20px;
    align-items: center;
    width: 100%;
    perspective: 1000px;
}

.mode-btn {
    padding: clamp(15px, 2.5vh, 22px) 0;
    width: 100%;
    font-size: clamp(1rem, 2vh, 1.5rem);
    font-weight: 700;
    color: #fff;
    cursor: pointer;
    touch-action: manipulation;
    -webkit-tap-highlight-color: transparent;
    background: rgba(255, 255, 255, 0.1);
    border: 1px solid rgba(255, 255, 255, 0.2);
    border-radius: 16px;
    cursor: pointer;
    transition: all 0.3s ease;
    font-family: 'Outfit', sans-serif;
    letter-spacing: 1.5px;
    text-transform: uppercase;
    position: relative;
    overflow: hidden;
    box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1);
}

.mode-btn::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    width: 0%;
    height: 100%;
    background: rgba(255, 255, 255, 0.2);
    transition: width 0.3s ease;
}

.mode-btn:hover {
    background: rgba(255, 255, 255, 0.2);
    transform: translateY(-2px);
    box-shadow: 0 10px 25px rgba(0, 0, 0, 0.2);
    border-color: rgba(255, 255, 255, 0.5);
    text-shadow: 0 0 10px rgba(255, 255, 255, 0.6);
}

.mode-btn:hover::before {
    width: 100%;
}

.mode-btn:active {
    transform: translateY(-1px);
}

.landing-footer {
    margin-top: 40px;
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: 8px;
    width: 100%;
}

.teacher-name {
    font-size: clamp(0.8rem, 1.8vh, 1.2rem);
    font-weight: 600;
    color: rgba(255, 255, 255, 0.9);
    font-family: 'Outfit', sans-serif;
    letter-spacing: 2px;
    text-transform: uppercase;
}

.app-info {
    font-size: clamp(0.7rem, 1.4vh, 0.9rem);
    color: rgba(255, 255, 255, 0.5);
    font-family: 'Poppins', sans-serif;
}

.name-input-container {
    width: 100%;
    margin-bottom: 20px;
}

#player-name-input {
    width: 100%;
    padding: 15px;
    border-radius: 12px;
    border: 2px solid rgba(255, 255, 255, 0.2);
    background: rgba(0, 0, 0, 0.3);
    color: #fff;
    font-size: 1.2rem;
    font-family: 'Outfit', sans-serif;
    text-align: center;
    transition: all 0.3s;
}

#player-name-input:focus {
    outline: none;
    border-color: var(--accent-color);
    background: rgba(0, 0, 0, 0.5);
}

.online-user-list {
    margin-top: 10px;
    background: rgba(0, 0, 0, 0.4);
    border-radius: 10px;
    padding: 10px;
    max-height: 150px;
    overflow-y: auto;
    width: 100%;
    font-size: 0.9rem;
    text-align: left;
}

.online-user-item {
    color: #e0e0e0;
    padding: 4px 8px;
    border-bottom: 1px solid rgba(255, 255, 255, 0.1);
}

.online-user-item:last-child {
    border-bottom: none;
}

.contact-btn {
    margin-top: 10px;
    background: none;
    border: 1px solid rgba(255, 255, 255, 0.2);
    color: rgba(255, 255, 255, 0.7);
    padding: 8px 20px;
    border-radius: 20px;
    font-size: 1.4vh;
    cursor: pointer;
    transition: all 0.3s ease;
    font-family: 'Poppins', sans-serif;
}

.contact-btn:hover {
    background: rgba(255, 255, 255, 0.1);
    color: white;
    border-color: rgba(255, 255, 255, 0.4);
}

.telegram-id {
    margin-top: 5px;
    font-size: 1.4vh;
    color: var(--accent-color);
    font-weight: bold;
    opacity: 0;
    transform: translateY(-5px);
    transition: all 0.3s ease;
    height: 0;
}

.telegram-id.visible {
    opacity: 1;
    transform: translateY(0);
    height: auto;
}

.global-timer {
    font-family: 'Poppins', sans-serif;
    font-variant-numeric: tabular-nums;
    /* Fix jitter */
    font-size: 2.2vh;
    font-weight: 600;
    color: rgba(255, 255, 255, 0.9);
    background: rgba(255, 255, 255, 0.1);
    padding: 8px 20px;
    border-radius: 30px;
    border: 1px solid rgba(255, 255, 255, 0.2);
    display: flex;
    align-items: center;
    gap: 10px;
    box-shadow: 0 4px 15px rgba(0, 0, 0, 0.2);
    backdrop-filter: blur(5px);
    width: auto;
    /* Fixed width to prevent any movement */
    justify-content: center;
}

.icon-btn {
    background: transparent;
    border: none;
    color: #fff;
    font-size: clamp(1.5rem, 2.5vh, 2.5rem);
    cursor: pointer;
    margin-left: 15px;
    transition: transform 0.2s;
}

.icon-btn:hover {
    transform: scale(1.1);
    color: var(--accent-color);
}

.modal-timer {
    position: absolute;
    top: 20px;
    left: 20px;
    font-size: 2.5rem;
    font-weight: bold;
    color: #fff;
    background: rgba(255, 255, 255, 0.1);
    width: 60px;
    height: 60px;
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    border: 2px solid var(--accent-color);
    box-shadow: 0 0 15px rgba(255, 71, 87, 0.4);
}

.modern-listen-btn {
    background: rgba(255, 255, 255, 0.1);
    border: 2px solid var(--accent-color);
    color: var(--accent-color);
    width: 50px;
    height: 50px;
    border-radius: 50%;
    font-size: 24px;
    cursor: pointer;
    margin-right: 15px;
    transition: all 0.3s ease;
    display: inline-flex;
    align-items: center;
    justify-content: center;
    vertical-align: middle;
    box-shadow: 0 0 15px rgba(240, 196, 25, 0.2);
}

.modern-listen-btn:hover {
    background: var(--accent-color);
    color: #000;
    transform: scale(1.1) rotate(15deg);
    box-shadow: 0 0 25px rgba(240, 196, 25, 0.6);
}

/* Ensure text containers align items correctly */
.question-text,
.answer-text {
    display: flex;
    align-items: center;
    justify-content: center;
    flex-wrap: wrap;
}

.modal-teams {
    display: flex;
    justify-content: center;
    gap: 15px;
    margin-top: 25px;
    flex-wrap: wrap;
    animation: fadeIn 0.5s ease;
}

.team-select-btn {
    background: rgba(255, 255, 255, 0.1);
    border: 2px solid var(--accent-color);
    color: #fff;
    padding: 10px 20px;
    border-radius: 15px;
    font-size: 2vh;
    font-weight: 700;
    cursor: pointer;
    transition: all 0.3s;
    text-transform: uppercase;
    min-width: 100px;
}

.team-select-btn:hover {
    background: var(--accent-color);
    color: #000;
    transform: translateY(-3px);
    box-shadow: 0 5px 15px rgba(240, 196, 25, 0.4);
}

.flying-points {
    position: fixed;
    font-size: 3vh;
    font-weight: 800;
    color: #f0c419;
    pointer-events: none;
    z-index: 10000;
    text-shadow: 0 0 10px rgba(0, 0, 0, 0.5);
    transition: all 1s cubic-bezier(0.25, 1, 0.5, 1);
}

.level-container {
    display: flex;
    gap: 10px;
    margin-left: 20px;
    background: rgba(255, 255, 255, 0.1);
    padding: 5px;
    border-radius: 12px;
    border: 1px solid rgba(255, 255, 255, 0.1);
    overflow-x: auto;
    /* Horizontal scroll */
    white-space: nowrap;
    -webkit-overflow-scrolling: touch;
    /* Smooth scroll on iOS */
    scrollbar-width: none;
    /* Hide scrollbar Firefox */
}

.level-container::-webkit-scrollbar {
    display: none;
    /* Hide scrollbar Chrome/Safari */
}

.level-btn {
    background: transparent;
    border: 1px solid transparent;
    color: rgba(255, 255, 255, 0.6);
    padding: 5px 10px;
    border-radius: 8px;
    cursor: pointer;
    font-weight: 700;
    font-size: 1.8vh;
    transition: all 0.3s;
}

.level-btn:hover {
    color: #fff;
    background: rgba(255, 255, 255, 0.1);
}

.level-btn.active {
    background: var(--accent-color);
    color: #000;
    box-shadow: 0 0 10px rgba(240, 196, 25, 0.3);
}

/* Example Sentence Styles */
.example-container {
    margin-top: 3vh;
    padding-top: 2vh;
    border-top: 1px solid rgba(255, 255, 255, 0.2);
    width: 100%;
    text-align: center;
    display: flex;
    flex-direction: column;
    gap: 1.5vh;
}

.example-line {
    display: flex;
    align-items: center;
    justify-content: center;
    gap: 15px;
    margin-bottom: 0;
}

.example-text {
    font-size: 3.5vh;
    /* Increased to be closer to word size (which is 5-6vh) */
    font-style: normal;
    /* Removed italic for better readability at large size */
    color: #fff;
    /* Brighter white */
    font-weight: 600;
    line-height: 1.3;
}

.example-translation {
    font-size: 3vh;
    /* Large translation */
    color: var(--accent-color);
    /* Use accent color for translation to distinguish */
    font-weight: 500;
    margin-top: 5px;
}

.small-listen-btn {
    background: none;
    border: none;
    cursor: pointer;
    font-size: 3vh;
    /* Larger icon */
    padding: 5px;
    transition: transform 0.2s;
    display: flex;
    align-items: center;
    justify-content: center;
    color: var(--accent-color);
}

.small-listen-btn:hover {
    transform: scale(1.2);
}

/* Adjust modal content to fit larger text */
.modal-content {
    width: 95%;
    /* Use more width */
    max-width: 1200px;
    /* Larger max width */
    padding: 5vh 3vw;
}

.question-text {
    font-size: 7vh;
    /* Slightly larger main word */
    margin-bottom: 2vh;
    min-height: auto;
    /* Allow it to shrink if needed */
    flex: 0 0 auto;
}

.word-count {
    font-size: 2vh;
    color: rgba(255, 255, 255, 0.7);
    margin-right: 15px;
    font-weight: 600;
    background: rgba(0, 0, 0, 0.3);
    padding: 5px 15px;
    border-radius: 20px;
    border: 1px solid rgba(255, 255, 255, 0.1);
}

@media (min-width: 1025px) and (min-height: 800px) {
    body {
        height: 100vh;
        overflow: hidden;
        /* Prevent scrolling on TV */
        justify-content: center;
        /* Center content vertically */
    }

    header {
        margin-bottom: 2vh;
    }

    .game-container {
        gap: 1.5vh;
        margin-bottom: 2vh;
        max-height: 70vh;
        /* Limit height */
    }

    /* Adjust Card Size for TV Grid */
    .card {
        font-size: 5vh;
        border-width: 2px;
        /* Thicker border for visibility */
    }

    /* Make focus state very obvious for remote navigation */
    button:focus,
    .card:focus,
    .level-btn:focus {
        outline: 5px solid #fff;
        box-shadow: 0 0 20px rgba(255, 255, 255, 0.8);
        transform: scale(1.05);
        z-index: 10;
    }

    /* Scoreboard Adjustment */
    .score-board {
        min-height: 12vh;
        margin-top: auto;
        /* Push to bottom if needed, but flex handles it */
        padding: 1.5vh;
    }
}

/* Floating User List Bubble */
.floating-user-list {
    position: fixed;
    bottom: 20px;
    left: 20px;
    /* User asked for "chat bubble", putting it left based on typical game UI or right? Let's go Left bottom to avoid blocking game controls usually on right or center. Or right. Standard chat is bottom right. Let's stick to Right as per my plan or maybe Left? User image showed empty bottom. Let's go Bottom Left to separate from "Contact" button usually on right or center. Wait, contact is in footer. Let's go LEFT. */
    width: 200px;
    background: rgba(20, 20, 20, 0.8);
    /* Darker for better contrast */
    backdrop-filter: blur(12px);
    -webkit-backdrop-filter: blur(12px);
    border: 1px solid rgba(74, 222, 128, 0.2);
    /* Greenish border */
    border-radius: 12px;
    padding: 10px;
    box-shadow: 0 4px 20px rgba(0, 0, 0, 0.5);
    z-index: 9999;
    font-family: 'Outfit', sans-serif;
    color: white;
    transition: transform 0.3s ease, opacity 0.3s ease;
    animation: slideIn 0.5s ease;
}

@keyframes slideIn {
    from {
        transform: translateY(20px);
        opacity: 0;
    }

    to {
        transform: translateY(0);
        opacity: 1;
    }
}

.floating-header {
    font-size: 0.85rem;
    font-weight: 700;
    margin-bottom: 8px;
    display: flex;
    align-items: center;
    gap: 8px;
    color: #4ade80;
    /* Green text */
    border-bottom: 1px solid rgba(255, 255, 255, 0.1);
    padding-bottom: 5px;
}

.floating-list-content {
    max-height: 25vh;
    /* Responsive height */
    overflow-y: auto;
    display: flex;
    flex-direction: column;
    gap: 4px;
    padding-right: 2px;
}

/* Scrollbar styling */
.floating-list-content::-webkit-scrollbar {
    width: 3px;
}

.floating-list-content::-webkit-scrollbar-thumb {
    background: rgba(74, 222, 128, 0.3);
    border-radius: 4px;
}

.online-user-item {
    font-size: 0.8rem;
    padding: 4px 8px;
    border-radius: 6px;
    background: rgba(255, 255, 255, 0.05);
    display: flex;
    align-items: center;
    gap: 6px;
}

.online-user-item::before {
    content: '';
    display: inline-block;
    width: 6px;
    height: 6px;
    background-color: #4ade80;
    border-radius: 50%;
}

@media (max-width: 600px) {
    .floating-user-list {
        bottom: 10px;
        left: 10px;
        width: 160px;
        font-size: 0.7rem;
    }
}

/* HOMEWORK CONTROL SYSTEM STYLES */
.homework-btn {
    background: rgba(255, 71, 87, 0.2);
    border: 1px solid #ff4757;
}

.homework-btn:hover {
    background: #ff4757;
    color: white;
}

.report-btn {
    background: transparent;
    border: 1px solid rgba(255, 255, 255, 0.3);
    color: #ccc;
    width: auto;
    display: inline-block;
}

.class-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(100px, 1fr));
    gap: 15px;
    margin-top: 20px;
}

.class-selector-btn {
    background: rgba(255, 255, 255, 0.1);
    color: white;
    padding: 20px;
    border-radius: 12px;
    border: 1px solid rgba(255, 255, 255, 0.2);
    cursor: pointer;
    font-size: 1.2rem;
    font-weight: bold;
    transition: all 0.2s;
}

.class-selector-btn:hover {
    background: var(--accent-color);
    color: black;
    transform: scale(1.05);
}

.hw-form {
    display: flex;
    gap: 10px;
    margin-bottom: 20px;
    flex-wrap: wrap;
}

.hw-input {
    padding: 10px;
    border-radius: 8px;
    border: 1px solid #444;
    background: rgba(0, 0, 0, 0.3);
    color: white;
    font-size: 1rem;
    flex: 1;
}

.student-list-header {
    display: grid;
    grid-template-columns: 50px 2fr 3fr;
    background: rgba(255, 255, 255, 0.1);
    padding: 10px;
    font-weight: bold;
    color: var(--accent-color);
    border-radius: 8px 8px 0 0;
}

.student-list-container {
    max-height: 400px;
    overflow-y: auto;
    border: 1px solid rgba(255, 255, 255, 0.1);
    border-radius: 0 0 8px 8px;
}

.student-row {
    display: grid;
    grid-template-columns: 50px 2fr 3fr;
    /* No Name Buttons */
    padding: 10px;
    border-bottom: 1px solid rgba(255, 255, 255, 0.05);
    align-items: center;
    background: rgba(0, 0, 0, 0.2);
}

.student-row:hover {
    background: rgba(255, 255, 255, 0.05);
}

.status-actions {
    display: flex;
    gap: 5px;
}

.status-btn {
    flex: 1;
    padding: 8px;
    border: none;
    border-radius: 6px;
    cursor: pointer;
    font-weight: bold;
    font-size: 0.8rem;
    background: #333;
    color: #888;
    transition: all 0.2s;
}

.status-btn.selected {
    transform: scale(1.05);
    box-shadow: 0 0 10px rgba(0, 0, 0, 0.5);
    color: white;
}

.status-btn.btn-done.selected {
    background: #2ecc71;
}

.status-btn.btn-missing.selected {
    background: #ff4757;
}

.status-btn.btn-pending.selected {
    background: #f1c40f;
    color: black;
}

.student-row.row-done {
    border-left: 4px solid #2ecc71;
}

.student-row.row-missing {
    border-left: 4px solid #ff4757;
}

.student-row.row-pending {
    border-left: 4px solid #f1c40f;
}

.report-table {
    width: 100%;
    border-collapse: collapse;
    color: white;
    font-size: 0.9rem;
}

.report-table th {
    background: rgba(0, 0, 0, 0.5);
    padding: 12px;
    text-align: left;
    color: var(--accent-color);
}

.report-table td {
    padding: 10px;
    border-bottom: 1px solid rgba(255, 255, 255, 0.1);
}

.report-table tr:hover {
    background: rgba(255, 255, 255, 0.05);
}

.prev-hw-item {
    background: rgba(255, 255, 255, 0.05);
    padding: 10px;
    margin-bottom: 5px;
    border-radius: 6px;
    display: flex;
    justify-content: space-between;
    font-size: 0.9rem;
}